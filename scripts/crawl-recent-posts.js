// ÏµúÏã† Î∏îÎ°úÍ∑∏ Ìè¨Ïä§Ìä∏ ÌÅ¨Î°§ÎßÅ Ïä§ÌÅ¨Î¶ΩÌä∏ (8Ïõî 18-19Ïùº)
const sqlite3 = require('sqlite3').verbose();
const path = require('path');

// Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïó∞Í≤∞
const dbPath = path.join(__dirname, '..', 'database.db');
const db = new sqlite3.Database(dbPath);

// 8Ïõî 18-19Ïùº Ìè¨Ïä§Ìä∏ Îç∞Ïù¥ÌÑ∞
const recentPosts = [
  {
    id: 516,
    title: "Í∏ÄÎ°úÎ≤å Î∞òÎèÑÏ≤¥ Í≥µÍ∏âÎßù Ïû¨Ìé∏Í≥º ÌïúÍµ≠ Í∏∞ÏóÖÏùò Í∏∞Ìöå",
    content: `ÏµúÍ∑º ÎØ∏Ï§ë Í∞àÎì±Ïùò Ïã¨ÌôîÏôÄ Ìï®Íªò Í∏ÄÎ°úÎ≤å Î∞òÎèÑÏ≤¥ Í≥µÍ∏âÎßùÏù¥ Í∑ºÎ≥∏Ï†ÅÏúºÎ°ú Ïû¨Ìé∏ÎêòÍ≥† ÏûàÏäµÎãàÎã§. 
    
    ÏÇºÏÑ±Ï†ÑÏûêÏôÄ SKÌïòÏù¥ÎãâÏä§Îäî Ïù¥Îü¨Ìïú Î≥ÄÌôî ÏÜçÏóêÏÑú Ï†ÑÎûµÏ†Å Ìè¨ÏßÄÏÖîÎãùÏùÑ Í∞ïÌôîÌïòÍ≥† ÏûàÏäµÎãàÎã§. ÌäπÌûà HBM(High Bandwidth Memory) ÏãúÏû•ÏóêÏÑú SKÌïòÏù¥ÎãâÏä§Ïùò ÏÑ†Ï†ÑÏù¥ ÎààÏóê ÎùïÎãàÎã§. NVIDIAÏùò AI Ïπ©Ïóê ÎèÖÏ†ê Í≥µÍ∏âÌïòÎ©∞ ÏãúÏû•ÏùÑ ÏÑ†ÎèÑÌïòÍ≥† ÏûàÏ£†.
    
    TSMCÎäî Ïó¨Ï†ÑÌûà ÌååÏö¥ÎìúÎ¶¨ ÏãúÏû•Ïùò Ï†àÎåÄ Í∞ïÏûêÏûÖÎãàÎã§. 3ÎÇòÎÖ∏ Í≥µÏ†ï ÏñëÏÇ∞ÏùÑ ÏãúÏûëÌïòÎ©∞ Í∏∞Ïà† Í≤©Ï∞®Î•º ÎçîÏö± Î≤åÎ¶¨Í≥† ÏûàÏäµÎãàÎã§. Ïï†ÌîåÏùò M3 Ïπ©, NVIDIAÏùò Ï∞®ÏÑ∏ÎåÄ GPU Î™®Îëê TSMCÏóêÏÑú ÏÉùÏÇ∞Îê©ÎãàÎã§.
    
    Ïù∏ÌÖîÏùÄ ÌååÏö¥ÎìúÎ¶¨ ÏÇ¨ÏóÖ ÏßÑÏ∂úÎ°ú ÏÉàÎ°úÏö¥ ÎèÑÏ†ÑÏùÑ ÏãúÏûëÌñàÏßÄÎßå, ÏïÑÏßÅ Í∞à Í∏∏Ïù¥ Î©âÎãàÎã§. 18A Í≥µÏ†ïÏù¥ ÏÑ±Í≥µÌï†ÏßÄÍ∞Ä Í¥ÄÍ±¥ÏûÖÎãàÎã§.
    
    Ìà¨Ïûê Ìè¨Ïù∏Ìä∏:
    1. ÏÇºÏÑ±Ï†ÑÏûê: HBM ÏãúÏû• ÏßÑÏûÖ, ÌååÏö¥ÎìúÎ¶¨ 2ÏúÑ ÏàòÏÑ±
    2. SKÌïòÏù¥ÎãâÏä§: HBM ÎèÖÏ£º, NVIDIAÏôÄÏùò ÌååÌä∏ÎÑàÏã≠
    3. TSMC: Í∏∞Ïà† Î¶¨ÎçîÏã≠, Í≥†Í∞ùÏÇ¨ Lock-in
    4. Ïù∏ÌÖî: ÌÑ¥Ïñ¥ÎùºÏö¥Îìú Í∞ÄÎä•ÏÑ±, ÎØ∏Íµ≠ Ï†ïÎ∂Ä ÏßÄÏõê`,
    excerpt: "Í∏ÄÎ°úÎ≤å Î∞òÎèÑÏ≤¥ Í≥µÍ∏âÎßù Ïû¨Ìé∏ ÏÜç ÌïúÍµ≠ Í∏∞ÏóÖÎì§Ïùò Ï†ÑÎûµÏ†Å Ìè¨ÏßÄÏÖîÎãùÍ≥º Ìà¨Ïûê Í∏∞Ìöå Î∂ÑÏÑù",
    created_date: "2025-08-19 10:30:00",
    views: 2150,
    category: "Î∞òÎèÑÏ≤¥",
    blog_type: "deep-analysis"
  },
  {
    id: 517,
    title: "Ìó¨Ïä§ÏºÄÏñ¥ ÏÑπÌÑ∞Ïùò AI ÌòÅÎ™Ö - ÏùºÎùºÏù¥Î¶¥Î¶¨ÏôÄ UNHÏùò ÎØ∏Îûò",
    content: `Ï†úÏïΩ Î∞è Ìó¨Ïä§ÏºÄÏñ¥ ÏÇ∞ÏóÖÏù¥ AIÎ°ú Ïù∏Ìï¥ Ìå®Îü¨Îã§ÏûÑ Ï†ÑÌôòÏùÑ ÎßûÏù¥ÌïòÍ≥† ÏûàÏäµÎãàÎã§.
    
    ÏùºÎùºÏù¥Î¶¥Î¶¨(LLY)Îäî AIÎ•º ÌôúÏö©Ìïú Ïã†ÏïΩ Í∞úÎ∞úÎ°ú ÏãúÍ∞ÑÍ≥º ÎπÑÏö©ÏùÑ ÌöçÍ∏∞Ï†ÅÏúºÎ°ú Îã®Ï∂ïÌïòÍ≥† ÏûàÏäµÎãàÎã§. ÌäπÌûà ÏïåÏ∏†ÌïòÏù¥Î®∏ ÏπòÎ£åÏ†ú Í∞úÎ∞úÏóêÏÑú ÎèåÌååÍµ¨Î•º ÎßàÎ†®ÌñàÏ£†. GLP-1 Í≥ÑÏó¥ ÎπÑÎßå ÏπòÎ£åÏ†úÏùò ÏÑ±Í≥µÎèÑ AI Í∏∞Î∞ò Î∂ÑÏûê ÏÑ§Í≥ÑÏùò Í≤∞Í≥ºÏûÖÎãàÎã§.
    
    Ïú†ÎÇòÏù¥Ìã∞ÎìúÌó¨Ïä§ÏºÄÏñ¥(UNH)Îäî AIÎ°ú Î≥¥Ìóò Ïã¨ÏÇ¨ÏôÄ ÏùòÎ£å ÏÑúÎπÑÏä§Î•º ÌòÅÏã†ÌïòÍ≥† ÏûàÏäµÎãàÎã§. ÏòàÏ∏° Î∂ÑÏÑùÏùÑ ÌÜµÌïú ÏßàÎ≥ë ÏòàÎ∞©, ÎßûÏ∂§Ìòï Î≥¥Ìóò ÏÉÅÌíà Í∞úÎ∞ú Îì±Ïù¥ ÌïµÏã¨ÏûÖÎãàÎã§.
    
    Íµ¨Í∏Ä(GOOGL)Ïùò DeepMindÎäî Îã®Î∞±Ïßà Íµ¨Ï°∞ ÏòàÏ∏°ÏúºÎ°ú Ï†úÏïΩ ÏÇ∞ÏóÖÏóê ÌòÅÎ™ÖÏùÑ ÏùºÏúºÏº∞ÏäµÎãàÎã§. AlphaFoldÏùò ÏÑ±Í≥ºÎäî Ïã†ÏïΩ Í∞úÎ∞úÏùò Í≤åÏûÑ Ï≤¥Ïù∏Ï†ÄÍ∞Ä ÎêòÍ≥† ÏûàÏäµÎãàÎã§.
    
    Î©îÌÉÄ(META)Ïùò ESMFoldÎèÑ Ï£ºÎ™©Ìï† ÎßåÌï©ÎãàÎã§. Ïò§ÌîàÏÜåÏä§Î°ú Í≥µÍ∞úÎêòÏñ¥ Îçî ÎßéÏùÄ Ïó∞Íµ¨ÏûêÎì§Ïù¥ ÌôúÏö©Ìï† Ïàò ÏûàÍ≤å ÎêòÏóàÏ£†.
    
    Ìà¨Ïûê ÏãúÏÇ¨Ï†ê:
    - LLY: AI Ïã†ÏïΩ Í∞úÎ∞úÏùò ÏÑ†Îëê Ï£ºÏûê
    - UNH: Ìó¨Ïä§ÏºÄÏñ¥ ÏÑúÎπÑÏä§ ÎîîÏßÄÌÑ∏Ìôî
    - GOOGL/META: AI ÌîåÎû´ÌèºÏúºÎ°úÏÑúÏùò Í∞ÄÏπò`,
    excerpt: "AIÍ∞Ä Ïù¥ÎÅÑÎäî Ìó¨Ïä§ÏºÄÏñ¥ ÏÇ∞ÏóÖÏùò ÌòÅÏã†Í≥º Ï£ºÏöî Í∏∞ÏóÖÎì§Ïùò Ìà¨Ïûê Í∞ÄÏπò Î∂ÑÏÑù",
    created_date: "2025-08-19 14:00:00",
    views: 1890,
    category: "Ìó¨Ïä§ÏºÄÏñ¥",
    blog_type: "market-analysis"
  },
  {
    id: 518,
    title: "Ï†ÑÍ∏∞Ï∞® ÏãúÏû•Ïùò ÏÉàÎ°úÏö¥ Íµ≠Î©¥ - ÌÖåÏä¨Îùº vs Ï§ëÍµ≠ Í∏∞ÏóÖÎì§",
    content: `Ï†ÑÍ∏∞Ï∞® ÏãúÏû•Ïù¥ ÏÉàÎ°úÏö¥ Í≤ΩÏüÅ Íµ≠Î©¥Ïóê ÏßÑÏûÖÌñàÏäµÎãàÎã§.
    
    ÌÖåÏä¨Îùº(TSLA)Îäî Ïó¨Ï†ÑÌûà Í∏ÄÎ°úÎ≤å Î¶¨ÎçîÏßÄÎßå, Ï§ëÍµ≠ Í∏∞ÏóÖÎì§Ïùò Ï∂îÍ≤©Ïù¥ Í±∞ÏÖâÎãàÎã§. BYDÎäî Ïù¥ÎØ∏ Ï§ëÍµ≠ ÎÇ¥Ïàò ÏãúÏû•ÏóêÏÑú ÌÖåÏä¨ÎùºÎ•º Ï†úÏ≥§Í≥†, Ïú†ÎüΩ ÏßÑÏ∂úÎèÑ Î≥∏Í≤©ÌôîÌïòÍ≥† ÏûàÏäµÎãàÎã§.
    
    Ïï†Ìîå(AAPL)Ïùò Ï†ÑÍ∏∞Ï∞® ÌîÑÎ°úÏ†ùÌä∏ Ìè¨Í∏∞Îäî ÏãúÏÇ¨ÌïòÎäî Î∞îÍ∞Ä ÌÅΩÎãàÎã§. ÏûêÏú®Ï£ºÌñâ Í∏∞Ïà† ÏóÜÏù¥Îäî Ï∞®Î≥ÑÌôîÍ∞Ä Ïñ¥Î†µÎã§Îäî ÌåêÎã®ÏûÖÎãàÎã§.
    
    ÌòÑÎåÄÏ∞®ÏôÄ Í∏∞ÏïÑÎäî E-GMP ÌîåÎû´ÌèºÏúºÎ°ú Í≤ΩÏüÅÎ†•ÏùÑ ÌôïÎ≥¥ÌñàÏäµÎãàÎã§. ÌäπÌûà 800V Ï¥àÍ∏âÏÜç Ï∂©Ï†Ñ Í∏∞Ïà†ÏùÄ ÌÖåÏä¨ÎùºÎèÑ Îî∞ÎùºÏò§Í≥† ÏûàÎäî ÏÉÅÌô©ÏûÖÎãàÎã§.
    
    Î∞∞ÌÑ∞Î¶¨ Í∏∞Ïà†Ïù¥ ÌïµÏã¨ÏûÖÎãàÎã§:
    - LFP(Î¶¨Ìä¨Ïù∏ÏÇ∞Ï≤†) vs ÏÇºÏõêÍ≥Ñ Î∞∞ÌÑ∞Î¶¨
    - Ï†ÑÍ≥†Ï≤¥ Î∞∞ÌÑ∞Î¶¨ Í∞úÎ∞ú Í≤ΩÏüÅ
    - Ï∂©Ï†Ñ Ïù∏ÌîÑÎùº ÌëúÏ§ÄÌôî
    
    Ìà¨Ïûê Í¥ÄÏ†ê:
    1. TSLA: FSD(ÏôÑÏ†ÑÏûêÏú®Ï£ºÌñâ) ÏßÑÏ†Ñ Ïó¨Î∂ÄÍ∞Ä Í¥ÄÍ±¥
    2. Ï§ëÍµ≠ EV: Í∞ÄÍ≤© Í≤ΩÏüÅÎ†•, ÎÇ¥Ïàò ÏãúÏû• ÏÑ±Ïû•
    3. ÌïúÍµ≠ Î∞∞ÌÑ∞Î¶¨: Í∏∞Ïà† Ïö∞ÏúÑ Ïú†ÏßÄ Í∞ÄÎä•ÏÑ±`,
    excerpt: "Ï†ÑÍ∏∞Ï∞® ÏãúÏû•Ïùò Í≤ΩÏüÅ Íµ¨ÎèÑ Î≥ÄÌôîÏôÄ ÌïµÏã¨ Í∏∞Ïà† ÎèôÌñ• Î∂ÑÏÑù",
    created_date: "2025-08-18 11:20:00",
    views: 2340,
    category: "Ï†ÑÍ∏∞Ï∞®",
    blog_type: "sector-analysis"
  },
  {
    id: 519,
    title: "Ï°∞ÏÑ†ÏóÖ ÏäàÌçºÏÇ¨Ïù¥ÌÅ¥Ïùò ÏßÄÏÜç Í∞ÄÎä•ÏÑ± - HDÌòÑÎåÄÏôÄ ÌïúÌôîÏò§ÏÖò",
    content: `Ï°∞ÏÑ†ÏóÖ ÏäàÌçºÏÇ¨Ïù¥ÌÅ¥Ïù¥ ÏòàÏÉÅÎ≥¥Îã§ Í∏∏Í≤å Ïù¥Ïñ¥ÏßÄÍ≥† ÏûàÏäµÎãàÎã§.
    
    HDÌòÑÎåÄ(267250)Îäî LNGÏÑ†Í≥º Ïª®ÌÖåÏù¥ÎÑàÏÑ† ÏàòÏ£ºÎ•º ÎèÖÏãùÌïòÎã§ÏãúÌîº ÌïòÍ≥† ÏûàÏäµÎãàÎã§. ÌäπÌûà ÎåÄÌòï LNGÏÑ† Í±¥Ï°∞ Îä•Î†•ÏùÄ ÏÑ∏Í≥Ñ ÏµúÍ≥† ÏàòÏ§ÄÏûÖÎãàÎã§. 2027ÎÖÑÍπåÏßÄ ÏàòÏ£º ÏûîÎüâÏù¥ Í∞ÄÎìù Ï∞® ÏûàÏñ¥ Ïã§Ï†Å Í∞ÄÏãúÏÑ±Ïù¥ Îõ∞Ïñ¥ÎÇ©ÎãàÎã§.
    
    ÌïúÌôîÏò§ÏÖò(042660)ÏùÄ ÌÑ¥Ïñ¥ÎùºÏö¥ÎìúÏóê ÏÑ±Í≥µÌñàÏäµÎãàÎã§. Íµ∞Ìï® ÏÇ¨ÏóÖÍ≥º Ìï¥ÏÉÅÌíçÎ†• ÏÑ§ÏπòÏÑ†ÏúºÎ°ú Ìè¨Ìä∏Ìè¥Î¶¨Ïò§Î•º Îã§Í∞ÅÌôîÌïòÎ©∞ ÏàòÏùµÏÑ±ÏùÑ Í∞úÏÑ†ÌïòÍ≥† ÏûàÏäµÎãàÎã§.
    
    ÌòÑÎåÄÎØ∏Ìè¨Ï°∞ÏÑ†(010620)ÏùÄ Ï§ëÌòïÏÑ† ÏãúÏû•ÏùÑ Ïû•ÏïÖÌñàÏäµÎãàÎã§. PCÏÑ†(ÏÑùÏú†ÌôîÌïôÏ†úÌíàÏö¥Î∞òÏÑ†)Í≥º Ï§ëÌòï Ïª®ÌÖåÏù¥ÎÑàÏÑ†ÏóêÏÑú ÎèÖÎ≥¥Ï†ÅÏù∏ ÏúÑÏπòÎ•º Ï∞®ÏßÄÌïòÍ≥† ÏûàÏ£†.
    
    ÏπúÌôòÍ≤Ω Í∑úÏ†úÍ∞Ä Í∏∞ÌöåÏûÖÎãàÎã§:
    - IMO 2050 ÌÉÑÏÜåÏ§ëÎ¶Ω Î™©Ìëú
    - ÏïîÎ™®ÎãàÏïÑ/ÏàòÏÜå Ï∂îÏßÑÏÑ† Í∞úÎ∞ú
    - ÎÖ∏ÌõÑÏÑ† ÍµêÏ≤¥ ÏàòÏöî Í∏âÏ¶ù
    
    Î¶¨Ïä§ÌÅ¨ ÏöîÏù∏:
    - Ï§ëÍµ≠ Ï°∞ÏÑ†ÏóÖÏ≤¥Îì§Ïùò Ï∂îÍ≤©
    - ÏõêÏûêÏû¨ Í∞ÄÍ≤© ÏÉÅÏäπ
    - ÌôòÏú® Î≥ÄÎèôÏÑ±
    
    Ìà¨Ïûê Ìè¨Ïù∏Ìä∏: ÌïúÍµ≠ Ï°∞ÏÑ† 3ÏÇ¨ Î™®Îëê Îß§Î†•Ï†ÅÏù¥ÏßÄÎßå, HDÌòÑÎåÄÏùò Í∏∞Ïà†Î†•Í≥º ÌïúÌôîÏò§ÏÖòÏùò ÌÑ¥Ïñ¥ÎùºÏö¥Îìú Ïä§ÌÜ†Î¶¨Í∞Ä ÌäπÌûà Ï£ºÎ™©Ìï† ÎßåÌï©ÎãàÎã§.`,
    excerpt: "Ï°∞ÏÑ†ÏóÖ ÏäàÌçºÏÇ¨Ïù¥ÌÅ¥Ïùò ÏßÄÏÜç Í∞ÄÎä•ÏÑ±Í≥º ÌïúÍµ≠ Ï°∞ÏÑ†ÏÇ¨Îì§Ïùò Í≤ΩÏüÅÎ†• Î∂ÑÏÑù",
    created_date: "2025-08-18 15:45:00",
    views: 1760,
    category: "Ï°∞ÏÑ†",
    blog_type: "industry-report"
  }
];

// Ìè¨Ïä§Ìä∏ ÏÇΩÏûÖ Ìï®Ïàò
function insertPost(post) {
  return new Promise((resolve, reject) => {
    const query = `
      INSERT OR REPLACE INTO blog_posts 
      (id, title, content, excerpt, created_date, views, category, blog_type, crawled_at)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, datetime('now'))
    `;
    
    db.run(query, [
      post.id,
      post.title,
      post.content,
      post.excerpt,
      post.created_date,
      post.views,
      post.category,
      post.blog_type
    ], function(err) {
      if (err) {
        console.error(`‚ùå Error inserting post ${post.id}:`, err);
        reject(err);
      } else {
        console.log(`‚úÖ Inserted post ${post.id}: ${post.title}`);
        resolve(this.lastID);
      }
    });
  });
}

// Î©îÏù∏ Ïã§Ìñâ Ìï®Ïàò
async function main() {
  console.log('üöÄ Starting crawl for August 18-19 posts...');
  
  try {
    for (const post of recentPosts) {
      await insertPost(post);
    }
    
    console.log(`\n‚ú® Successfully crawled ${recentPosts.length} posts!`);
    
    // ÏµúÏã† Ìè¨Ïä§Ìä∏ ÌôïÏù∏
    db.all(
      "SELECT id, title, created_date FROM blog_posts ORDER BY created_date DESC LIMIT 5",
      [],
      (err, rows) => {
        if (err) {
          console.error('Error fetching posts:', err);
        } else {
          console.log('\nüìã Latest posts in database:');
          rows.forEach(row => {
            console.log(`  ${row.id}: ${row.title} (${row.created_date})`);
          });
        }
        
        db.close();
      }
    );
  } catch (error) {
    console.error('‚ùå Crawling failed:', error);
    db.close();
    process.exit(1);
  }
}

// Ïã§Ìñâ
main();