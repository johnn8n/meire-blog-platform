# 🏠 메인 페이지 요구사항

> **요르의 투자 플랫폼** 메인 페이지 개발을 위한 포괄적인 요구사항 문서

## 📋 기본 정보

**파일**: `src/app/page.tsx`
**목적**: 요르의 투자 플랫폼의 메인 랜딩 페이지

## 🎯 기능 요구사항

### 🧭 상단 네비게이션 버튼
- **구성**: 3개 버튼 (메르 블로그, 종목 리스트, 주간 보고)
- **버튼 1**: 📝 메르 블로그 → `/merry`
- **버튼 2**: 📊 종목 리스트 → `/merry/stocks`
- **버튼 3**: 📊 주간 보고 → `/merry/weekly-report`
- **레이아웃**: 모바일에서 세로 배치, 데스크톱에서 가로 배치
- **반응형**: 각 버튼이 동일한 크기와 간격 유지

### 📝 메인 텍스트 구성
- **메인 타이틀**: "요르의 투자 플랫폼"
- **슬로건**: "니가 뭘 알아. 니가 뭘 아냐고. 요르가 전하는 날카로운 투자 인사이트"
- **헤더 서브타이틀**: "니가 뭘 알아. 니가 뭘 아냐고." (마침표 필수)

### 🎯 핵심 구성 요소
- 요르의 투자 철학 강조 표시
- 최신 포스트 하이라이트 (상위 3개)
- 포트폴리오 성과 요약 위젯
- **오늘의 메르님 말씀** (Claude 직접 분석)
- **메르's Pick** (최신 언급 종목)

---

## 💬 오늘의 메르님 말씀 요구사항

### 📍 위치 및 기능
**위치**: 메인 페이지 핵심 섹션
**기능**: 오늘 작성된 모든 포스트에서 Claude가 직접 핵심 메시지를 추출하여 표시

### 🚫 금지 사항 (절대 준수)
- ❌ **하드코딩된 말씀**: 미리 작성된 고정 메시지 사용 금지
- ❌ **외부 AI API**: OpenAI, Anthropic API 등 외부 서비스 사용 금지
- ❌ **키워드 매칭**: 제목 기반 if-else 매칭 로직 금지
- ❌ **패턴 분석**: 정규식이나 자동화된 패턴 분석 금지

### ✅ 유일한 허용 방식
- **Claude 직접 분석**: Claude가 포스트 전문을 읽고 수동으로 핵심 메시지 추출
- **실시간 생성**: 요청 시점에 Claude가 즉석에서 분석하여 말씀 생성
- **포스트 기반**: 실제 포스트 내용을 근거로 한 분석만 허용

### 🔄 데이터 처리 방식
1. **오늘 포스트 우선**: 오늘 작성된 모든 포스트를 최신순으로 가져옴
2. **Claude 직접 읽기**: 각 포스트의 title, content를 Claude가 직접 읽고 분석
3. **핵심 메시지 추출**: 포스트별로 투자 관련 핵심 인사이트를 추출
4. **말씀 생성**: 추출된 인사이트를 바탕으로 "메르님 말씀" 형태로 재구성
5. **폴백 처리**: 오늘 포스트가 없으면 최신 포스트 1개로 동일 처리

### ✍️ 문체 요구사항
- **동사의 명사형**: "~합니다" → "~함", "~입니다" → "~임"  
- **명료한 결론**: 투자 관점에서 명확한 메시지 전달
- **종목명 볼드**: 언급된 모든 종목명과 티커를 **굵게** 처리

### 🎨 UI 구조
- **제목**: "오늘의 메르님 말씀" (오늘 포스트) / "메르님 말씀" (과거 포스트)
- **포스트별 말씀**: 각 포스트마다 독립된 말씀 카드 표시
- **핵심 메시지**: Claude가 추출한 **1문장** 요약 (필수)
- **투자 인사이트**: 상세한 분석과 시사점
- **관련 종목**: 포스트에서 언급된 티커들을 링크로 표시

### ⚡ 성능 요구사항
- **분석 시간**: Claude 분석 < 3초
- **응답 시간**: API 전체 응답 < 5초  
- **캐싱**: 동일 포스트 재분석 방지를 위한 세션 캐시
- **에러 처리**: 분석 실패 시 "분석 중..." 표시

### 📊 품질 기준
- **정확성**: 포스트 내용과 일치하는 분석
- **통찰력**: 단순 요약이 아닌 투자 인사이트 제공
- **일관성**: 메르님의 투자 철학과 일치하는 톤앤매너
- **실용성**: 실제 투자 결정에 도움이 되는 내용

### 🧪 테스트 시나리오
- 오늘 포스트 여러 개 있을 때 모든 포스트 분석 확인
- 오늘 포스트 없을 때 최신 포스트 폴백 확인
- Claude 분석 품질 검증 (포스트 내용과 일치성)
- 종목명 볼드 처리 확인
- 동사의 명사형 문체 확인
- 성능 기준 (5초 이내) 달성 확인

---

## 🎯 메르's Pick 요구사항

### 📍 위치 및 기능
**위치**: 메인 페이지 및 종목 관련 페이지
**기능**: 메르가 최근에 언급한 종목들을 우선순위로 표시

### 📊 표시 순서 (핵심 요구사항 - 절대 준수)
1. **⚠️ 메르가 언급한 최신 날짜 순으로 랭킹** (lastMention 기준 내림차순)
   - **❌ 포스트 개수 기준 랭킹 절대 금지**
   - **✅ 최신 언급일(last_mentioned_at) 기준만 사용**
2. 언급 횟수 (mention_count)는 보조 정보로만 표시
3. 메르가 언급한 종목만 표시 (mention_count > 0)

### 🎨 UI 요구사항
- 제목: "메르's Pick" 
- 최대 5-10개 종목 표시
- 각 종목당: 티커, 종목명, 최근 언급일, 현재가 (있는 경우)
- 배지는 종목 위에 작성 (종목 아래가 아님)
- **⚠️ 회사 소개 필수**: "회사 사업 정보"가 아닌 실제 회사 한줄 소개로 성의있게 작성
- **신규 종목 자동 처리**: 새로운 종목이 메르's Pick에 들어가면 회사 사업 정보 자동 생성
- 클릭 시 해당 종목 상세 페이지로 이동

### 🔗 데이터 연동
- `merry_mentioned_stocks` 테이블에서 `last_mentioned_at DESC` 정렬
- 실시간 가격 정보 연동 (선택사항)
- 캐싱을 통한 빠른 로딩 (<500ms)

### ⚡ 성능 요구사항
- 로딩 시간 < 500ms
- 메인 페이지 전체 로딩에 영향 주지 않음
- 실시간 업데이트는 불필요 (페이지 새로고침시 갱신)

---

## ⚡ 성능 요구사항

### 🎯 로딩 성능 기준
- **초기 로딩**: < 2초 (메인 페이지 특별 기준)
- **LCP**: < 1.5s (hero 섹션)
- **FID**: < 100ms
- **CLS**: < 0.1

### 📱 반응형 성능
- **모바일**: 3초 이내 완전 로딩
- **태블릿**: 2.5초 이내 완전 로딩  
- **데스크톱**: 2초 이내 완전 로딩

---

## 🔍 SEO 요구사항

### 📋 메타 데이터
- **제목**: "요르의 투자 블로그"
- **설명**: "니가 뭘 알아. 니가 뭘 아냐고. 요르가 전하는 날카로운 투자 인사이트"
- **키워드**: 투자, 주식, 포트폴리오, 분석, 요르

### 🌐 소셜 미디어 최적화
- **Open Graph 태그**: 제목, 설명, 이미지
- **Twitter Cards**: summary_large_image 타입
- **JSON-LD 구조화 데이터**: Organization, WebSite

---

## 🧪 테스트 요구사항

### 📋 기본 테스트
- 페이지 로딩 성능 (< 2초)
- 모든 네비게이션 버튼 작동
- 텍스트 수화(Hydration) 오류 없음
- 반응형 레이아웃 정상 작동

### 🔍 고급 테스트
- 오늘의 메르님 말씀 표시 확인
- 메르's Pick 종목 리스트 표시
- SEO 메타 데이터 정확성
- 접근성 (a11y) 기준 준수

---

## 📝 유지보수 가이드

### 🔄 정기 확인 사항
- 수화 오류 모니터링
- 성능 지표 추적 (< 2초 로딩)
- 텍스트 일관성 검증
- SEO 점수 유지

### ⚠️ 주의사항
- **가짜 데이터 금지**: 모든 데이터는 실제 데이터이거나 "정보 없음" 표시
- **텍스트 일관성**: 서버-클라이언트 간 동일한 텍스트 사용
- **성능 모니터링**: 2초 로딩 기준 엄격 준수

---

> 📝 **마지막 업데이트**: 2025-08-22  
> 💬 **문의사항**: 메인 페이지 개발 관련 질문이나 개선사항이 있으면 언제든지 알려주세요.